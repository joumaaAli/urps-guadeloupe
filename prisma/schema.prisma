generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  USER
  ADMIN
}

enum Status {
  ACTIVE
  INACTIVE
  PENDING
}

model User {
  id            Int      @id @default(autoincrement())
  name          String?
  email         String   @unique
  emailVerified DateTime @map(name: "email_verified") @default(now())
  password      String
  role          Role     @default(USER)
  image         String?
  createdAt     DateTime @default(now()) @map(name: "created_at")
  updatedAt     DateTime @default(now()) @updatedAt @map(name: "updated_at")

  @@map(name: "users")
}

model Praticien {
  orderNumber   String   @id
  firstName     String
  lastName      String
  RPPSNumber    String?
  cabinetNumber String
  mobileNumber  String
  email         String   @unique
  city          City     @relation(fields: [cityId], references: [id])
  cityId        Int
  specialties   Specialty[]
  materiels     String[]
  status      Status   @default(PENDING)
}

model City {
  id          Int          @id @default(autoincrement())
  name        String
  praticiens  Praticien[]
}

model Specialty {
  id          Int          @id @default(autoincrement())
  name        String
  praticiens  Praticien[]
}
